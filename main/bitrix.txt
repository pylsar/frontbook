будем использовать bitrix версии 18.5.180     http://192.168.0.148
cms - система управлениея содержимым
страница - отдельный файл
раздел - отдельная папка

битрикс создает новые разделы относительно того места где мы находимся
папка bitrix - это ядро сайта
на этапе РАЗРАБОТКИ лучше отключать кэширование (настройки продукта ---> автокэширование) альтернатива это кнопка "сбросить кэш"
раньше шаблоны содавались в папке templates теперь можно в корне создать папку Local И в ней папку templates
при переносе верстки: 
			в хэдер копируется хэдер + открывающий тег обертки основной части (main или content)
			в футер копируется футер + закрывающий тег обертки основной части (main или content)
			копируем первую строчку из дефолтных шаблонов в хэдер и футер( эта строчка проверяет константу B_PROLOG_INCLUDED).  if (!defined ('B_PROLOG_INCLUDED') || B_PROLOG_INCLUDED !== true){die(что напишем тут то пользователь и увидит)}
пользователь при прямом написании пути попадёт на пустую страничку  (?)
			title выводим с помощью showTitle (<title><?php $APPLICATION -->ShowTitle ?></title>)
специальная константа SITE_TEMPLATE_PATH  - возвращает путь к активной папке
добавить/убрать компонент(меню, новости и тд) берез из Настройки --> Настройки модулей--> управление структурой 
код компонентов можно взять из: редактирование страницы --> справа стрелочка-->находим нужный и кликаем дважды
битрикс любит верхний регистр, поэтому желательно использовать его

Маркетинг --> Пульс конверсии: это % отношение количества покупок к заходам на сайт
создать товар --> товар с торговыми предложениями - это товар который имеет множество цветов размеров и тд, т.е. его можно соединить с другими товарами
торговый каталог --> использовать расширенный режим управления ценами - можно задавать диапазон цен(например: до 5 товаров цена равна 599, с 6 товара цена равна 499), показывается в карточке товара
торговый каталог --> параметры --> включить количественный учет: если поставить да, то нельзя купить больше имеющихся в наличии(?)
торговый каталог --> параметры --> разрешить подписку при отсутствии товара: если поставить да, то вместо сообщения 'товар закончился' появится кнопка "подписться на товар"
замена глобальных настроек(чтобы ряд настроек были по умолчанию) - Настройки(вверху экрана, рядом с сайт, администрирование)--> в выпадашке выбираем раздел для изменения
замена глобальных настроек(чтобы ряд настроек были по умолчанию) - Настройки(вверху экрана, рядом с сайт, администрирование)--> в выпадашке Торговый католог : Включить складской учет и включить резервирование, если поставить галочку, то в настойках карточки товара нельзя будет изменить кол-во товаров на складе. и теперь информация браться будет из складского учёта

товар удалять нельзя, могут возникнуть бухгалтерские проблемы и сео птимизация может ухудшиться. Товар надо деактивировать

комплексные компоненты это набор простых компонентов( подсвечены зеленым цветом). Как правило вызывают для разделов

устанавливать статус 404 - если мы удалили страницу а у пользователя она осталась в закладках, то ему отобразтся 404 ошибка
SECTION_CODE_PATH - пишет полный юрл (со всеми категориями)
SECTION_CODE -  пишет короткий юрл(используется когда большая вложенность) 
SITE_DIR - константа отвечающая за домен сайта
ELEMENT_CODE - символьный код элемента

seo настройки надо начинать с родителя(в нвшем слуяае это инфоблок) 

Создаем новую группу администрирования(например для контент менеджера, корторый сможет изменять только определенные настройки):
		НАСТРОЙКИ --> группы пользователей --> добавляем новую группу --> заполняем поля. Далее вкладка доступ (Главный модуль - Администратор интернет магазина, Торговый каталог - редактирование цен )
		Идем в список пользователей и добавляем нового пользователя. 
		Контент --> Структура сайта --> bitrix --> admin(бургер меню --> права на доступ к продукту --> нашей новой категории даем право: чтение ) 
		Идем в настройки мнфоблоков: Контент --> Инфоблоки --> Типы инфоблоков --> выбираем инфоблок --> вкладка доступ --> находим нашу новую группы и выбираем в списке " изменения"

Добавить меню: 
		Настройки --> Настройки продуктов --> настройка модулей --> управление структурой : создаём тип меню( например right правое меню) 
		На главной странице : создаем новый раздел
Меню --> клик по меню --> редактирование --> в параметрах компонента если снять галочку с "подключать файлы с именами вида  .тип_меню.menu_ext.php " , то отключится динамическое меню

Хлебные крошки: 
		Открываем страницу на редактировании --> в компонентах --> служебные --> навигация  --> навигационная цепочка
		Если дублируется название в хлебных крошках, значит повторяется название инфоблока.( переходим в настройки компонента --> дополнительные настройки --> снять галочку "включать инфоблок в цепочку навигации" ) 
		Изменение статической информаци задается в свойстве раздела(изменить страницу)
		Динамическая информация задается в динамически разделах и их элементах(Заголовок элемента внутри карточки(?)(seo?))

Медиабиблиотека - по сути хранилище материалов, которая систематизирована и для нее нужно право доступа на просмотр. Находится в Настройки --> настройки продуктов --> настройка модулей --> управление структурой --> вкладка медиабиблиотека
Вордовские документы поддерживаются в формате doc(docx - не поддерживается)

Многосайтовость:
		Настройки --> настройки продуктов --> сайты --> список сайтов --> добавить сайт

Разделитель в инфоблоке:
		В настройках формы редактирования (место где мы выбираем какие свойства будут отображаться у товара) --> вкладки(нижняя таблица) --> добавИть --> пишем дополнительное свойство
Подсказка в инфоблоке:
		чтобы добавить подсказку, надо Контент --> инфоблоки --> там выбираем нужный инфоблок и в свойствах нажимаем на "..." --> заполняем графу "подсказка"		

Меню контент менеджера можно зафиксировать нажав "булавку" в правом верхнем углу экрана
В избранное можно добавить часто используюмые функции (например: добавить контрагента или получение пароля для фото)

Создание вкладок в фильтре:
		Например мы создали фильтр с новинками --> сохраняем его(шестеренка) и он появляется в виде вкладки у нас
Товары можно переность из одной категории в другую(бургер меню --> перенести --> выбрать категорию)		

Элемент инфоблока - это информация
Тип инфоблока - это группировка информационных блоков по определенной тематике и (или) схожей структурой
Маска валидации для телефона ^[+][0-9] [(][0-9]{3}[)] [0-9]{3}[-][0-9]{2}[-][0-9]{2}$

--------------------------------------------------------

Аспро: Next - интернет-магазин
Меняется заголовок в зависимости от например: цвета товара 
		виджет(бургер слева) --> каталог --> подставлять заголовок торгового предложения в название товара в списке на детальной странице. В админке эта функция находтся: Аспро --> настройки --> листаем до каталога --> подставлять заголовок торгового предложения в название товара в списке на детальной странице
Сменить шрифт:
		Копируем с гууглфонт сслыку --> Аспро --> настройки --> общие --> пользовательский шрифт из гуглфонтс	
В свойствах инфоблока, связанных с регионом код всегда должен начинаться с REGION_TAG...
Чтобы вывести на экран надо: свойство(например REGION_TAG_DELIVERY):
		в карточке товара(?) во вкладке подробно написать #REGION_TAG_DELIVERY#
Поиск по артикулу:
		Контент --> инфоблоки --> типы инфоблоков --> каталог товара --> каталог --> в разделе свойства выбираем артикул --> ... --> ставим галочку "значения свойства учавствуют в поиске". Теперь надо проиндексировать сайт: 	Настройки --> поиск --> переиндексация --> далее снимаем галочку "переиндексировать только измененные" , сайт: "название сайта", модуль : информационные блоки --> переиндексировать
Как настроить старую цену(зачеркнутую): 
		магазин --> настройки --> цены --> тип цены --> нажимаем новый тип цен: поле базовый оставляем не активным так как базовая цена уже есть. Далее идем в аспро --> настройки --> ищем поле старая цена --> выделяем и сохраняем. идем в режиме правки в раздел каталог(шестеренка на сайте) --> цены и выбираем все виды цен. Далее заходим в товар и в разделе торговый каталог вписываем новую цену
Вывод характеристик на экран:
		В административной части сайта перейдите в Настройки --> настройки продукта --> настройка модуля --> информационные блоки. Поле "использовать параметры свойств в компонентах и формах" должно быть не активным 
Минимальная цена покупки:
		Аспро --> настройки --> пролистываем до корзины --> минимальная цена покупки	
Создание новой характеристики:
		Инфоблок --> вкладка свойства --> добавляем и заполняем новое свойство --> 	далее в нужном разделе добавляем свойство через шестеренку --> идем в публичную часть сайта и в режиме редактирования через шестеренку(можно в обычной карточке товара)	--> настройки детального просмотра и добавляет через кнтрл новые свойства
Создание новых стикеров:
		Магазин --> Каталог товаров --> свойства товаров --> прокручиваем список до поля "значнение списка" и создаем свое --> в нужной карточке добавляем это свойство
Согласие на обработку персональных данных:
		Настройка галочки по умолчанию не гарантирует на 100% соблюдние закона!!! 
		Аспро --> настройки --> общее --> Галочка об информировании обработки персональных данных проставлена
Фасетные индексы: (нужны для умного поиска)
		контент --> инфоблоки --> фасетные индексы --> бургер --> создать --> выбираю каталог
CSV экспорт/импорт:
		Магазин --> настройки --> экспорт данных

Если мы не ведем складской учет то: Настройки --> настройки продукта --> настройки модулей --> торговый каталог - снять галочки: "включить складской учет" и "включить резервирование"

Настройки торгового каталога:
		контент --> инфоблоки --> типы инфоблоков --> каталог --> торговые предложения
В наборах не могут учавствовать товары с предложениями, использовать простые
Создание инфоблока(например новости или услуги): !!!!!!!!!!!!!!!!!!!!!!!!!!!
		Контент --> инфоблоки --> типы инфоблоков. добавляем новый тип инфоблока. Далее создаем инфоблок в созданом типе инфоблока. Заполняем нужные поля (из важных: "вкладка инфоблок" --> символьный код, привязка к сайту, назывние вкладка "поля" --> создавать картинку анонса из детальной(если не задана), уменьшать анонс если большая(ширина например 150), детальная картинка уменьшать если большая(например до 250), символьный код если код задан, то проверять на уникальность и транслитировать из названия при добавлении элемента вкладка "доступ" --> для всех пользователей чтение) и создаем свойства во вкладке "свойства". После того как создали инфоблок выводим его на сайт: в публичной части сайта - 
		в режиме редактирования дважды кликнуть на компонент и добавить раздел. Далее на главной странице нажимаем "изменить страницу" и в компонентах перетаскиваем "новость". Дважды кликаем по ней --> Настройки( основные параметры: тип инфоблока и инфоблок включаем поддуржку ЧПУ страница детального просмотра #ELEMENT_ID# меняем на #ELEMENT_CODE#: в настройках списка выводим наши свойства установить заголовок окна браузера из названия ставим галочку свойства детального просмотра  тоже выбираем наши свойства название категории: пишем свое )

Акция в виде текста:
		Контент --> контент --> акции --> добавить акцию.
Создание новой акции:
		Маркетинг --> Торговый маркетинг --> правила работы с корзиной. добавить правило --> заполняем данные 	 
В акциях важен порядок приоритета и надо следить за галочкой "прекратить дальнейшее применение скидок" (если галочка стоит то другие скидки не применятся), скидки могут суммироваться
Привязать товар к акции:
		Контент --> контент --> Акции --> выбираем акцию --> элементы учавствующие в акции
Чтобы показать стикер со скидой в товаре:
		в режиме правки товара --> шестеренка --> источник данных --> поставить галочку "показать процент экономии"
Чтобы показать стикер со скидкой в табах:
		на главной в режиме правки--> выделяем блок(с хитами, акциями новинками и тд(прям на слово акция)) и нажимаем шестеренку --> дополнительные настройки --> отображать процент экономии 
Скидка у товара: 
		заходим в карточку товара --> торговый каталог --> скидки
Как показать процент скидки и экономию: 
		каталог товара(шестеренка)	--> источник данных --> поставить галочку "показать процент скидки" 	
Предсказания:
		Маркетинг --> торговый маркетинг --> предустановленый список маркетинговых акций --> выбираем "оформи заказ на n рублей, получи скидку" -->  заполняем поля. Чтобы отобразить предсказание: в публичной части сайта: наводим на каталог  в режиме правки --> шестеренка --> настройки детального просмотра --> использовать предсказания скидок ставим галочку
Создание подарка:
		Маркетинг --> торговый маркетинг --> правила работы с корзиной --> добавить новое правило --> действия и условия выбираем "предоставить подарок" --> создаем условие для подарков
вкючение/выключение региональности ломает отдел с акциями
Создание нового магазина:
		Контент --> контент --> магазины --> добавть магазин
Чтобы включить ленивую загрузку:
		аспро --> настройки --> поставить галочку "использовать ленивую подгрузку изображений"	
Привязка аксессуаров к товару:
		контент --> каталог --> перекрестные продажи --> заполняем поля и добавляем условие( пример: основной товар - полотенцесушители, товары для допродажи - уголки)
привязка похожих товаров:
		так же как и аксессуары, только выбрать надо "похожие товары"


править надо в режиме php(так как в других вариантах страница может поломаться)

Добавление новой страницы в меню:
		создаем новую страницу --> на главной странице сайта  " создать страницу" -->  на этапе редактирования находим в компонентах(справа) пункт "меню" и перетаскиваем его в окно редактирования (должен стоять визуальный режим слева вверху) --> двойной клик на картинку "меню". Далее в режиме правки навожу на пункт меню и выбираю "редактировать пункты меню" и добавляем пункт
общая стоимость товара:
		аспро --> настройки --> каталог --> показывать общую сумму товара в списке и на детальной странице  
Чтобы можно было повторно использовать "покупка в 1 клик":
		настройки --> валюты --> список валют --> разделитель тысяч при выводе - значение : пробел
Настройки карточек в параметрах компонента "каталог" распространяются на ВСЕ карточки товара		
ЧПУ - человекопонятные ЮРЛ
alt и title можно брать либо из описания либо из SEO (шестеренка --> источник данных --> брать alt и title для картинок из)

Отзывы с ЯндексМаркет:
		Аспро --> отзывы с яндексМаркет --> вводим ключ(платный) --> делаем свои настройки. чтобы у товаров начали отображаться отзывы, необходимо в свойстве элемента проставить числовой идентификатор с яндексМаркета --> в яндексМаркете в карточке товара(в юрл между / и ? ) --> в битриксе в редактировании товара переходим в товар --> ID товара на яндексМаркет
SKU и использование highload : https://www.youtube.com/watch?v=DKifBA2G1vo (выводит размеры и цвета и ... в карточке)

Настройка для сортировки новостей:
		В режиме правке выбираю блок с новостями --> настройки фильтра --> Поле для первой сортировки новостей --> сортировка
Хорошей практикой считается при создании инфоблока ставить в поле "поле" обязательное заполнение символьного кода, транслитирование и если код задан - проверять на уникальность
Хорошей практикой считается настраиват компонет на тестовой странице( для это в юрл происываем: /test.php)	--> изменить страницу 
Статические страницы настраиваются путём создания обычного файла
Динамическая страница создаётся путем настройки компонента, который создаст разделы и подразделы
Набор - это товары цены которых складываются(можно купить родительский товар отдельно), а комплект это отдельный товар со своей ценой и купить товары по отдельности нельзя
Умный фильтр: 
		отображение можно настраивать для каждой категории свое( настравиваем общий стиль, а затем в контент --> каталог --> в нужной категории кликаем на бургер --> доп поля и там выбираем)
На страницах брендов можно вставлять баннер(заходим в бренды --> изменить бренд --> ставим галочку "баннер сверху")

Настройка кол-ва товаров только для администратора( остальные видят "много/мало"):
		Аспро некст --> настройки --> отображение количества товара --> отображение наличие товара количеством для групп -  выбираем администраторы
/*Настройка вывода индивидуальных характеристик в инфоблок:
		Контент --> каталог --> инфоблок --> типы инфоблоков -->	каталог --> каталог товаров --> свойства --> добавляем новое свойство и в ... убираем галочку "показывать на странице редактирования элемента" (на данный момент этой харки нет не в одной из категорий по умолчанию, но их можно добавить в любую карточку товара через шестеренку в админке + надо добавлть через режим правки)--> 
		далее идём в магазин --> каталоги товаров --> каталог товаров --> разделы каталога -->выбираем каталог--> бургер --> свойства элемента --> добавить // не совсем понял для чего это*/
Изменение отображения торговых предложений в карточке товара:
		Контент --> инфоблоки --> типы инфоблоков --> каталог --> бургер у торговых предложений --> свойства --> ... у выбраного свойства --> вид в умном фильтре
Добавление свойства в купить за 1 клик:
		Магазин --> настройки --> свойства заказа --> список свойств --> новое свойство --> выбтраем тип плательщика --> заполняем и сохраняем --> аспро некст --> настройки --> покупка в 1 клик --> через cntrl  добаляем новое свойство
Уменьшить колво шагов при оформлении заказа:
		В публичном разделе сайта в режиме правки --> заходим в оформление заказа --> кликаем на блок и в выпадающем меню (около шестеренки ) выбираем "редактировать параметры компонента" --> основые параметры( поставить галочки в разделах "оформлять заказ с автоматической регистрацией пользователя" "отправлять пользователю письмо, что он зарегестрирован на сайте")		
Чтобы связать товары со статической страницей:
		Устанавливаем связь с инфоблоками --> Контент --> инфоблоки --> типы инфоблоков -->  контент --> выбираем инфоблок --> бургер и заходим в свойства --> привязка элементов --> ... --> указываем инфоблок . Далее идем в нужную нам карточку(новости, услуги и тд) --> связанные товары(добавляем нужные товары)
отключить Новый визуальный редактор и воспользоваться старым:
		Рабочий стол --> Настройки --> Настройки продукта --> Настройки модулей --> Управление структурой. Вкладка Визуальный редактор, убрать галочку Использовать новый визуальный редактор.
отключить картинку детального просмотра из каталога:
		в режиме редактирования --> шестеренка --> настройки детального просмотра --> добавлять детальную картинку в слайдер
цвета в виде выпадающего списка:
		контент --> инфоблоки --> типы инфоблоков --> торговые предложения --> свойства --> ... цвет --> вид в умном фильте
		цвета добавляются в highloadblock
отсортировать товар внутри товара:
		шестеренка по каталогу --> настройка блока 'Количество товара на складе' --> по какому полю сортируем предложение товара
рекдактирование табов внутри карточки товара: в режиме правки наводим на карточку товара и сверху будет редактирование
вывести 1 товар в нескольких категориях: в админке --> разделы и через кнтрл выбираем разделы
Вывести 1 товар в разных разделах --> администрирование --> заходим в нужную карточку --> раздел --> через контрл выбираем нужные разделы

Создание Акции: контент --> акции --> добавить ацкию --> (регион и тд) (это текстовый вид акции) --> маркетинг --> товарный маркетинг --> правило работы с корзиной --> добавить правило --> заполняем поля

замена городов в статической странице регионов: 
		изменяем страницу как html и вставляем #REGION_NAME_DECLINE_PP#(взято из тип инфоблоков --> региональность)

Поиск товаров так чтобы в регионах не выводлось :
		http://joxi.ru/p274B7BTK1N1YA
		аспро next : Скрывать отсутствующие товары в поиске в шапке с галочкой
		шестеренка в каталоге: недоступные товары (отображать) // необязательное условие

выводить в заголовок свойство:
		типинфоблока --> каталог товара -->	SEO --> заголовок товара	{=this.property.свойство}
 





 
Sp415_Sp415

		
-------------------------------------------------------

NEXT_SMART_FILTER - стоял фильтр по умолчанию в каталоге, вместо него поставил arRegionLink

у нас 3 региона. товар есть в 2х. можно ли сделать так чтобы находясь в третьем регионе поиск не находил этот товар?

можно ли вывести в заголовок товара не название, а созданое мною свойство?

за что отвечают свойства в: карточка товара --> шестеренка --> настройки детального просмотра :
под выпадающим списком. пытаюсь добавить новое свойство, но после сохранения это свойство не отображается

смоделируем ситуацию. 1с выгружает товар, которого нет на сайте, тем самым создаст раздел и карточки товара. карточки товара будут не активны т.к. не установлено свойство регион, но при этом раздел будет отображаться на сайте и будет пустым

Да, в настройках SEO инфоблока, раздела или товара замените в заголовке товара {=this.Name} на {=this.property.КОД_СВОЙСТВА}. Подставить можно и прямо в админке: http://joxi.ru/DmBZBDBCJM4Zxm


Все файлы вашего решения находятся тут? 
- /bitrix/templates/aspro*
- /bitrix/components/aspro
- /bitrix/modules/aspro*

или еще есть места?